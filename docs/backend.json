
{
  "entities": {
    "GuestUser": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "GuestUser",
      "type": "object",
      "description": "Represents a guest user account for temporary access.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the guest user."
        },
        "creationTimestamp": {
          "type": "string",
          "description": "Timestamp indicating when the guest user account was created.",
          "format": "date-time"
        },
        "lastActivityTimestamp": {
          "type": "string",
          "description": "Timestamp indicating the last activity of the guest user.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "creationTimestamp"
      ]
    },
    "PrayerRecord": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "PrayerRecord",
      "type": "object",
      "description": "Represents a record of a user's prayer completion.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the prayer record."
        },
        "guestUserId": {
          "type": "string",
          "description": "Reference to GuestUser. (Relationship: GuestUser 1:N PrayerRecord)"
        },
        "prayerType": {
          "type": "string",
          "description": "Type of prayer (e.g., Subh/Fajr, Sunrise, Dhuhr, Asr, Maghrib, Isha)."
        },
        "completed": {
          "type": "boolean",
          "description": "Indicates whether the prayer was completed."
        },
        "date": {
          "type": "string",
          "description": "Date of the prayer record.",
          "format": "date"
        }
      },
      "required": [
        "id",
        "guestUserId",
        "prayerType",
        "completed",
        "date"
      ]
    },
    "DhikrRecord": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "DhikrRecord",
      "type": "object",
      "description": "Represents a record of a user's Dhikr completion.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Dhikr record."
        },
        "guestUserId": {
          "type": "string",
          "description": "Reference to GuestUser. (Relationship: GuestUser 1:N DhikrRecord)"
        },
        "dhikrName": {
          "type": "string",
          "description": "Name or description of the Dhikr."
        },
        "count": {
          "type": "number",
          "description": "Number of times the Dhikr was recited."
        },
        "goal": {
          "type": "number",
          "description": "The goal set for Dhikr recitation."
        },
        "date": {
          "type": "string",
          "description": "Date of the Dhikr record.",
          "format": "date"
        }
      },
      "required": [
        "id",
        "guestUserId",
        "dhikrName",
        "count",
        "date",
        "goal"
      ]
    },
    "Dhikr": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Dhikr",
      "type": "object",
      "description": "Represents a user-defined Dhikr for study.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Dhikr."
        },
        "guestUserId": {
          "type": "string",
          "description": "Reference to GuestUser. (Relationship: GuestUser 1:N Dhikr)"
        },
        "name": {
          "type": "string",
          "description": "Name of the Dhikr."
        },
        "arabicText": {
          "type": "string",
          "description": "Arabic text of the Dhikr."
        },
        "translation": {
          "type": "string",
          "description": "Translation of the Dhikr."
        }
      },
      "required": [
        "id",
        "guestUserId",
        "name"
      ]
    },
    "DayStreak": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "DayStreak",
      "type": "object",
      "description": "Represents a user's consecutive day streak of completing at least 5 prayers.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the day streak."
        },
        "guestUserId": {
          "type": "string",
          "description": "Reference to GuestUser. (Relationship: GuestUser 1:N DayStreak)"
        },
        "startDate": {
          "type": "string",
          "description": "Date when the streak started.",
          "format": "date-time"
        },
        "endDate": {
          "type": "string",
          "description": "Date when the streak ended. Null if the streak is still active.",
          "format": "date-time"
        },
        "days": {
          "type": "number",
          "description": "Number of consecutive days in the streak."
        }
      },
      "required": [
        "id",
        "guestUserId",
        "startDate",
        "days"
      ]
    },
    "PrayerToolbeltItem": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "PrayerToolbeltItem",
      "type": "object",
      "description": "Represents a Surah or Ayat in a user's toolbelt.",
       "properties": {
        "id": {
          "type": "string",
          "description": "The Surah number as a string."
        },
        "guestUserId": {
          "type": "string",
          "description": "Reference to GuestUser."
        },
        "name": {
          "type": "string"
        },
        "description": {
            "type": "string"
        },
        "mastered": {
            "type": "boolean"
        }
      },
      "required": ["id", "guestUserId", "name", "description", "mastered"]
    }
  },
  "auth": {
    "providers": [
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/guest_users/{guestUserId}",
        "definition": {
          "entityName": "GuestUser",
          "schema": {
            "$ref": "#/entities/GuestUser"
          },
          "description": "Stores guest user accounts."
        }
      },
      {
        "path": "/guest_users/{guestUserId}/prayer_records/{prayerRecordId}",
        "definition": {
          "entityName": "PrayerRecord",
          "schema": {
            "$ref": "#/entities/PrayerRecord"
          },
          "description": "Stores prayer records for a specific guest user."
        }
      },
      {
        "path": "/guest_users/{guestUserId}/dhikr_records/{dhikrRecordId}",
        "definition": {
          "entityName": "DhikrRecord",
          "schema": {
            "$ref": "#/entities/DhikrRecord"
          },
          "description": "Stores Dhikr records for a specific guest user."
        }
      },
      {
        "path": "/guest_users/{guestUserId}/dhikrs/{dhikrId}",
        "definition": {
          "entityName": "Dhikr",
          "schema": {
            "$ref": "#/entities/Dhikr"
          },
          "description": "Stores Dhikrs for a specific guest user."
        }
      },
      {
        "path": "/guest_users/{guestUserId}/day_streaks/{dayStreakId}",
        "definition": {
          "entityName": "DayStreak",
          "schema": {
            "$ref": "#/entities/DayStreak"
          },
          "description": "Stores day streak data for a specific guest user."
        }
      },
      {
        "path": "/guest_users/{guestUserId}/prayer_toolbelt/{surahId}",
        "definition": {
            "entityName": "PrayerToolbeltItem",
            "schema": {
                "$ref": "#/entities/PrayerToolbeltItem"
            },
            "description": "Stores items in a user's prayer toolbelt."
        }
      }
    ],
    "reasoning": ""
  }
}
